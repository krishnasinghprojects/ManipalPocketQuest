import { PokemonCard } from '../types/pokemonData';

export const pokemonData: PokemonCard[] = [
  {
    id: 25,
    name: 'Pikachu',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/25.png',
    type: ['Electric'],
    hp: 35,
    rarity: 'common',
    attack: 55,
    defense: 40,
    speed: 90,
    description: 'When several of these Pokémon gather, their electricity can cause lightning storms.'
  },
  {
    id: 6,
    name: 'Charizard',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/6.png',
    type: ['Fire', 'Flying'],
    hp: 78,
    rarity: 'rare',
    attack: 84,
    defense: 78,
    speed: 100,
    description: 'It spits fire that is hot enough to melt boulders. It may cause forest fires by blowing flames.'
  },
  {
    id: 9,
    name: 'Blastoise',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/9.png',
    type: ['Water'],
    hp: 79,
    rarity: 'rare',
    attack: 83,
    defense: 100,
    speed: 78,
    description: 'It crushes its foe under its heavy body to cause fainting. In a pinch, it will withdraw inside its shell.'
  },
  {
    id: 150,
    name: 'Mewtwo',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/150.png',
    type: ['Psychic'],
    hp: 106,
    rarity: 'legendary',
    attack: 110,
    defense: 90,
    speed: 130,
    description: 'Its DNA is almost the same as Mew\'s. However, its size and disposition are vastly different.'
  },
  {
    id: 149,
    name: 'Dragonite',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/149.png',
    type: ['Dragon', 'Flying'],
    hp: 91,
    rarity: 'rare',
    attack: 134,
    defense: 95,
    speed: 80,
    description: 'It is said to make its home somewhere in the sea. It guides crews of shipwrecks to shore.'
  },
  {
    id: 94,
    name: 'Gengar',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/94.png',
    type: ['Ghost', 'Poison'],
    hp: 60,
    rarity: 'uncommon',
    attack: 65,
    defense: 60,
    speed: 110,
    description: 'On the night of a full moon, if shadows move on their own and laugh, it must be Gengar\'s doing.'
  },
  {
    id: 59,
    name: 'Arcanine',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/59.png',
    type: ['Fire'],
    hp: 90,
    rarity: 'uncommon',
    attack: 110,
    defense: 80,
    speed: 95,
    description: 'A Pokémon that has been admired since the past for its beauty. It runs agilely as if on wings.'
  },
  {
    id: 130,
    name: 'Gyarados',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/130.png',
    type: ['Water', 'Flying'],
    hp: 95,
    rarity: 'rare',
    attack: 125,
    defense: 79,
    speed: 81,
    description: 'Once it begins to rampage, a Gyarados will burn everything down, even in a harsh storm.'
  },
  {
    id: 143,
    name: 'Snorlax',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/143.png',
    type: ['Normal'],
    hp: 160,
    rarity: 'uncommon',
    attack: 110,
    defense: 65,
    speed: 30,
    description: 'Very lazy. Just eats and sleeps. As its rotund bulk builds, it becomes steadily more slothful.'
  },
  {
    id: 113,
    name: 'Chansey',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/113.png',
    type: ['Normal'],
    hp: 250,
    rarity: 'uncommon',
    attack: 5,
    defense: 5,
    speed: 50,
    description: 'A rare and elusive Pokémon that is said to bring happiness to those who manage to get it.'
  },
  {
    id: 133,
    name: 'Eevee',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/133.png',
    type: ['Normal'],
    hp: 55,
    rarity: 'common',
    attack: 55,
    defense: 50,
    speed: 55,
    description: 'Its genetic code is irregular. It may mutate if it is exposed to radiation from element Stones.'
  },
  {
    id: 151,
    name: 'Mew',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/151.png',
    type: ['Psychic'],
    hp: 100,
    rarity: 'legendary',
    attack: 100,
    defense: 100,
    speed: 100,
    description: 'When viewed through a microscope, this Pokémon\'s short, fine, delicate hair can be seen.'
  },
  {
    id: 4,
    name: 'Charmander',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/4.png',
    type: ['Fire'],
    hp: 39,
    rarity: 'common',
    attack: 52,
    defense: 43,
    speed: 65,
    description: 'Obviously prefers hot things. When it rains, steam is said to spout from the tip of its tail.'
  },
  {
    id: 7,
    name: 'Squirtle',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/7.png',
    type: ['Water'],
    hp: 44,
    rarity: 'common',
    attack: 48,
    defense: 65,
    speed: 43,
    description: 'After birth, its back swells and hardens into a shell. Powerfully sprays foam from its mouth.'
  },
  {
    id: 1,
    name: 'Bulbasaur',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png',
    type: ['Grass', 'Poison'],
    hp: 45,
    rarity: 'common',
    attack: 49,
    defense: 49,
    speed: 45,
    description: 'A strange seed was planted on its back at birth. The plant sprouts and grows with this Pokémon.'
  },
  {
    id: 39,
    name: 'Jigglypuff',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/39.png',
    type: ['Normal', 'Fairy'],
    hp: 115,
    rarity: 'common',
    attack: 45,
    defense: 20,
    speed: 20,
    description: 'When its huge eyes light up, it sings a mysteriously soothing melody that lulls its enemies to sleep.'
  },
  {
    id: 54,
    name: 'Psyduck',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/54.png',
    type: ['Water'],
    hp: 50,
    rarity: 'common',
    attack: 52,
    defense: 48,
    speed: 55,
    description: 'Constantly troubled by headaches. It uses psychic powers when its head hurts.'
  },
  {
    id: 129,
    name: 'Magikarp',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/129.png',
    type: ['Water'],
    hp: 20,
    rarity: 'common',
    attack: 10,
    defense: 55,
    speed: 80,
    description: 'In the distant past, it was somewhat stronger than the horribly weak descendants that exist today.'
  },
  {
    id: 16,
    name: 'Pidgey',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/16.png',
    type: ['Normal', 'Flying'],
    hp: 40,
    rarity: 'common',
    attack: 45,
    defense: 40,
    speed: 56,
    description: 'A common sight in forests and woods. It flaps its wings at ground level to kick up blinding sand.'
  },
  {
    id: 19,
    name: 'Rattata',
    imageUrl: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/19.png',
    type: ['Normal'],
    hp: 30,
    rarity: 'common',
    attack: 56,
    defense: 35,
    speed: 72,
    description: 'Bites anything when it attacks. Small and very quick, it is a common sight in many places.'
  }
];

// Fallback image for when API fails
export const fallbackImageUrl = 'https://via.placeholder.com/200x200/3B82F6/FFFFFF?text=Pokemon';

// Get random Pokemon based on rarity weights
export const getRandomPokemon = (): PokemonCard => {
  const rarityWeights = {
    common: 0.5,      // 50% chance
    uncommon: 0.3,    // 30% chance
    rare: 0.15,       // 15% chance
    legendary: 0.05   // 5% chance
  };

  const random = Math.random();
  let selectedRarity: keyof typeof rarityWeights;

  if (random < rarityWeights.legendary) {
    selectedRarity = 'legendary';
  } else if (random < rarityWeights.legendary + rarityWeights.rare) {
    selectedRarity = 'rare';
  } else if (random < rarityWeights.legendary + rarityWeights.rare + rarityWeights.uncommon) {
    selectedRarity = 'uncommon';
  } else {
    selectedRarity = 'common';
  }

  const pokemonOfRarity = pokemonData.filter(pokemon => pokemon.rarity === selectedRarity);
  const randomIndex = Math.floor(Math.random() * pokemonOfRarity.length);
  
  return pokemonOfRarity[randomIndex];
};

// Get Pokemon by ID
export const getPokemonById = (id: number): PokemonCard | undefined => {
  return pokemonData.find(pokemon => pokemon.id === id);
};

// Get Pokemon by name
export const getPokemonByName = (name: string): PokemonCard | undefined => {
  return pokemonData.find(pokemon => pokemon.name.toLowerCase() === name.toLowerCase());
}; 